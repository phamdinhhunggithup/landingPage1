(function(t,e){var o={};t.app=t.app||{},t.app.init=function(o){t.app.setOptions(o),e("[data-pricing-plan]").click(function(){e("#modal-order-form #Product").val(e(this).attr("data-pricing-plan"))}),e('[data-lightbox="inline"]').magnificPopup({type:"inline",mainClass:"mfp-no-margins mfp-fade",closeBtnInside:!1,fixedContentPos:!0})},t.app.setOptions=function(t){o=e.extend(o,t)},t.app.subscribe=function(){var t="";""===e("#subscribe-form #Email").val()&&(t+="Bạn chưa nhập Email"),""===t?e.ajax({type:"POST",url:"/api/comdy/"+e("#token").val()+"/subscribe",data:JSON.stringify({Email:e("#subscribe-form #Email").val()}),dataType:"json",contentType:"application/json",success:function(t){if(t.success){new PNotify({text:"Đăng ký nhận tin tức khuyến mãi thành công.",type:"success",buttons:{sticker:!1,closer:!1}}),e("#subscribe-form #Email").val("");var o=e.magnificPopup.instance;o.close()}else new PNotify({text:t.message,type:"error",buttons:{sticker:!1,closer:!1}})}}):new PNotify({text:t,type:"error",buttons:{sticker:!1,closer:!1}})},t.app.contact=function(){var t=[];if(""===e("#contact-form #FullName").val()&&t.push(" Bạn chưa nhập Họ Tên"),""===e("#contact-form #Email").val()&&t.push(" Bạn chưa nhập Email"),""===e("#contact-form #PhoneNumber").val()&&t.push(" Bạn chưa nhập Điện Thoại"),""===e("#contact-form #Content").val()&&t.push(" Bạn chưa nhập Nội Dung"),0===t.length){var o={FullName:e("#contact-form #FullName").val(),Email:e("#contact-form #Email").val(),PhoneNumber:e("#contact-form #PhoneNumber").val(),Content:e("#contact-form #Content").val()};e.ajax({type:"POST",url:"/api/comdy/"+e("#token").val()+"/contact",data:JSON.stringify(o),dataType:"json",contentType:"application/json",success:function(t){if(t.success){new PNotify({text:"Gửi email thành công.",type:"success",buttons:{sticker:!1,closer:!1}}),e("#contact-form #FullName").val(""),e("#contact-form #Email").val(""),e("#contact-form #PhoneNumber").val(""),e("#contact-form #Content").val("");var o=e.magnificPopup.instance;o.close()}else new PNotify({text:t.message,type:"error",buttons:{sticker:!1,closer:!1}})}})}else new PNotify({text:t,type:"error",buttons:{sticker:!1,closer:!1}})},t.app.order=function(){var t="";if(""===e("#modal-order #FullName").val()&&(t+="Chưa nhập Họ Tên"),""===e("#modal-order #PhoneNumber").val()&&(t+=""!==t?"<br/>Chưa nhập Điện thoại":"Chưa nhập Điện thoại"),""===e("#modal-order #Email").val()&&(t+=""!==t?"<br/>Chưa nhập Email":"Chưa nhập Email"),""===t){var o={FullName:e("#modal-order-form #FullName").val(),Email:e("#modal-order-form #Email").val(),PhoneNumber:e("#modal-order-form #PhoneNumber").val(),OrderDetail:"Loa thông minh Amazon Echo Dot",TotalAmount:145e4};e.ajax({type:"POST",url:"/api/comdy/"+e("#token").val()+"/order",data:JSON.stringify(o),dataType:"json",contentType:"application/json",success:function(t){if(t.success){new PNotify({text:"Đặt mua thành công.",type:"success",buttons:{sticker:!1,closer:!1}}),e("#modal-order-form #FullName").val(""),e("#modal-order-form #PhoneNumber").val(""),e("#modal-order-form #Email").val("");var o=e.magnificPopup.instance;o.close()}else new PNotify({text:t.message,type:"error",buttons:{sticker:!1,closer:!1}})}})}else new PNotify({text:t,type:"error",buttons:{sticker:!1,closer:!1}})}})(window.comdy=window.comdy||{},jQuery),function(t){"use strict";comdy.app.init({})}(jQuery);